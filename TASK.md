Bash скрипт инвентаризация Linux системы
========================================

## Атрибуты собираемые UCMDB
* UUID (hw:uuid)
* Серийный номер (hw:serial)
* Производитель (hw:vendor)
* Модель (hw:model)
+ Производитель BIOS (bios:vendor)
* Версия BIOS (bios:version)
* Дата BIOS (bios:date)
* BIOS UUID (bios:serial)
* CPU. Количество socket (cpu:sockets)
* CPU. Количество ядер (cpu:cores)
+ CPU. Количество потоков (cpu:threads)
* CPU. Микроархитектура процессора (cpu:arch)
* CPU. Тип процессора (cpu:model)
* ОЗУ, ГБ (ram:gb)
+ ОЗУ, KБ (ram:kb)
+ ОЗУ, использовано % (ram:`used_percent`)
* SWAP (swap)
* SWAP, ГБ (swap:gb)
+ SWAP, KБ (swap:kb)
+ SWAP, использовано % (swap:`used_percent`)
+ SWAP, список разделов (`swap_part`)
* Семейство ОС (os:type)
* Название ОС (os:id)
* Версия ОС (os:version)
* Релиз ОС (os:release)
* Версия ядра ОС (os:kernel)
* Наименование, название хоста (net:name)
* FQDN (net:fqdn)
* Домен (net:domain)
* IP-адреса (net:`ip_list`)
* Основной IP-адрес (net:ip)
+ Шлюз по умолчанию (net:gw)
* DNS-серверы (net:dns)
* Сетевые интерфейсы, детали по каждому интерфейсу: имя, MAC-адрес, Маска подсети, Скорость, IP-адрес (`net_if`)
* Файловые системы, детали по каждой файловой системе: Раздел, Точка монтирования, Размер, Тип ФС (fs)
* Поданные диски, детали по каждому поданному диску:
  Устройство, Модель/Производитель, Размер, Серийный номер, Съемный/нет, Тип MBR, SCSI Node ID (disk)
- Связь между Файловой системой и Поданным диском (TODO: ЧТО ИМЕЕТСЯ В ВИДУ?!)
* Тип сервера: виртуальный/физический (server:`is_virtual`)
* Время запуска хоста (server:uptime)
- Является узлом кластера (TODO)
* Список не коробочных пользователей, созданных в ОС (server:users)
* Установленные пакет из заданного списка (pkg)
* Запущенные экземпляры ПО из заданного спика по процессам:
  инфраструктурные агенты, антивирус, экземпляры ПО из техстека Организации:
  Название, Версия, Process CMD Line (proc)
* Sudo-права пользователя, из-под которого работает "Агент" (agent:sudoers)
+ Имя пользователя от которого запущен "Агент" (agent:user)
+ Командная строка в соответсвии с которой запущен "Агент" (agent:cmd)
* Sysctl Parameters (sysctl)
~ Доменные группы (которым выданы права на аутентификацию на хост) TODO (sssd)
~ Security Limits (требуется уточнение списка)
- Fiber Channel HBA (детали по каждому адаптеру:
  Имя, Node WWN, HBA Driver version, HBA Vendor, HBA Model, HBA Firmware, Serial Number)
  (TODO: для разработки/отладки нужен доступ к соответсущей машине)
- Платформа, вычисляемое поле (TODO: ЧТО ИМЕЕТСЯ В ВИДУ?!)

## Атрибуты PostgreSQL
* Название (psql:name)
* Версия (psql:version)
* Производитель (psql:build)
+ Каталоги СУБД (psql:sysconfdir - конфигурация, psql:bindir - исполняемые файлы, psql:datadir - данные)
* PID основного процесса сервера (psql:pid)
* Process User, пользователь от имени которого запущен сервер (psql:user)
- Process CMDB Line (TODO: ЧТО ИМЕЕТСЯ В ВИДУ?!)
* Process Parameters - командная строка в соответствии с которой запущен сервер (psql:cmd)
* Process Startup Time (psql:stime)
+ Process Uptime (psql:uptime)
+ Число процессов сервера (psql:`proc_num`)
* Роли СУБД (psql:`role_num`, psql:`role_list`)
* Список и размер БД (psql:`db_num`, psql:`db_list`)
- Process Limits (TODO: НУЖНО УТОЧНИТЬ, ЧТО ИМЕЕТСЯ В ВИДУ?!)
- Конфигурация (чтение из файла, заполняемого коллегами УАБД).
  На основании этого атрибута создаются связи с кластером Patroni и другими узлами кластера.

### Примечание 1:
* задано и сделано
- задано и не сделано
~ реализовано частично
+ сделано дополнительно

### Примечание 2:
В скобочках указаны разделы выходного JSON-файла.

